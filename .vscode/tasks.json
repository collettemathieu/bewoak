{
    "version": "2.0.0",
    "tasks": [
        {
            "type": "shell",
            "label": "build-pathway-design-server",
            "command": "bun",
            "args": ["nx", "build", "pathway-design-server"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": []
        },
        {
            "type": "shell",
            "label": "test-runtime-compatibility",
            "command": "bash",
            "args": [
                "-c",
                "echo 'üß™ Validating Bun build + Node.js runtime compatibility...' && bun nx build pathway-design-server && echo '‚úÖ Build successful with Bun' && node dist/apps/pathway-design-server/main.js & NODE_PID=$! && sleep 2 && echo '‚úÖ Node.js runtime started' && kill $NODE_PID 2>/dev/null || true && echo 'üéâ Compatibility validated!'"
            ],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "new"
            },
            "options": {
                "cwd": "${workspaceFolder}"
            }
        },
        {
            "type": "shell",
            "label": "sort-all-json-files",
            "command": "bun",
            "args": [
                "run",
                "-e",
                "import { readdirSync, readFileSync, writeFileSync, statSync } from 'fs'; import { join } from 'path'; function sortJsonFiles(dir) { const items = readdirSync(dir); for (const item of items) { const fullPath = join(dir, item); const stat = statSync(fullPath); if (stat.isDirectory() && !['node_modules', 'dist', '.nx', '.git', 'coverage', 'tmp'].includes(item)) { sortJsonFiles(fullPath); } else if (item.endsWith('.json') && !item.includes('lockb')) { try { const content = readFileSync(fullPath, 'utf8'); const parsed = JSON.parse(content); const sorted = JSON.stringify(parsed, null, 2) + '\\n'; writeFileSync(fullPath, sorted); console.log(`‚úÖ Sorted: ${fullPath}`); } catch (e) { console.log(`‚ö†Ô∏è  Skipped: ${fullPath} (${e.message})`); } } } } sortJsonFiles('.');"
            ],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "new"
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": []
        }
    ]
}
